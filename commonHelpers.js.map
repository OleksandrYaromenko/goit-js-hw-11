{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function requestPictures(query) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const API_KEY = '43436630-0ca2cab0bed204149ca1c5fee'\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    });\n    return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status)\n        }\n        return response.json();\n                \n        })\n    \n\n}","export function creatMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments,downloads }) =>`\n     <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n                <ul class=\"search-list\">\n                    <li class=\"info\"><span class=\"info-item\">Likes </span>${likes}</li>\n                    <li class=\"info\"><span class=\"info-item\">Views </span>${views}</li>\n                    <li class=\"info\"><span class=\"info-item\">Comments </span>${comments}</li>\n                    <li class=\"info\"><span class=\"info-item\">Downloads </span>${downloads}</li>\n                </ul>\n            </a>\n\n\n    `).join()\n    \n}","import iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { requestPictures } from \"./js/pixabay-api\"\n\nimport { creatMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".search-form\")\nconst gallery = document.querySelector(\".gallery\")\nconst loader = document.querySelector('.loader')\n\n\n\nform.addEventListener(\"submit\", handelSubmit)\nloader.style.display = 'none';\n\n\nconst simpleLightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n\nfunction handelSubmit(event) {\n    event.preventDefault();\n    loader.style.display = 'inline-block';\n\n    const { search } = event.currentTarget.elements;\n\n     if (search.value === \"\") {\n         iziToast.show({\n      title: 'error',\n      titleColor: 'white',\n      message: 'Please find what you want to find',\n      messageColor: 'white',\n      color: 'red',\n      position: 'topCenter',\n      timeout: '2000',\n        });\n      return\n       \n    }\n    \n\n    requestPictures(search.value)\n        .then(boxFoto => {\n            loader.style.display = 'none';\n            gallery.innerHTML = creatMarkup(boxFoto.hits)\n            simpleLightbox.refresh()\n            if (boxFoto.total === 0) {\n                iziToast.show({\n                    title: 'error',\n\n                    titleColor: 'white',\n                    message:\n                        'We cannot find a picture for this name, please enter the correct name',\n                    messageColor: 'white',\n                    color: 'red',\n                    position: 'topCenter',\n                    timeout: '2000',\n                });\n                form.reset()\n                return;\n                \n      }\n        })\n        \n\n         .catch(Error => iziToast.show({\n             title: 'error',\n             titleColor: 'white',\n             message:\n            'Sorry, there are no images matching your search query. Please try again!',\n             messageColor: 'white',\n             color: 'red',\n             position: 'topCenter',\n             timeout: '2000',  \n\n         })\n             .finally(() => {\n      loader.style.display = 'none';;\n    })\n    )\n      \n    \n}\n\n"],"names":["requestPictures","query","BASE_URL","API_KEY","params","response","creatMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loader","handelSubmit","simpleLightbox","SimpleLightbox","event","search","iziToast","boxFoto","Error"],"mappings":"6vBAAO,SAASA,EAAgBC,EAAO,CACnC,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAC/B,KAAKC,GAAY,CAClB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAExB,CAAS,CAGT,CCpBO,SAASC,EAAYC,EAAK,CAC7B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAS,UAAAC,CAAW,IAAI;AAAA,qCAC1DL,CAAa;AAAA,gDACFD,CAAY,UAAUE,CAAI;AAAA;AAAA,4EAEEC,CAAK;AAAA,4EACLC,CAAK;AAAA,+EACFC,CAAQ;AAAA,gFACPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAKpF,EAAE,KAAM,CAEb,CCFA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAI/CF,EAAK,iBAAiB,SAAUG,CAAY,EAC5CD,EAAO,MAAM,QAAU,OAGvB,MAAME,EAAiB,IAAIC,EAAe,aAAc,CACtD,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,SAASF,EAAaG,EAAO,CACzBA,EAAM,eAAc,EACpBJ,EAAO,MAAM,QAAU,eAEvB,KAAM,CAAE,OAAAK,CAAQ,EAAGD,EAAM,cAAc,SAEtC,GAAIC,EAAO,QAAU,GAAI,CACrBC,EAAS,KAAK,CACjB,MAAO,QACP,WAAY,QACZ,QAAS,oCACT,aAAc,QACd,MAAO,MACP,SAAU,YACV,QAAS,MACf,CAAS,EACH,MAED,CAGDvB,EAAgBsB,EAAO,KAAK,EACvB,KAAKE,GAAW,CAIb,GAHAP,EAAO,MAAM,QAAU,OACvBD,EAAQ,UAAYV,EAAYkB,EAAQ,IAAI,EAC5CL,EAAe,QAAS,EACpBK,EAAQ,QAAU,EAAG,CACrBD,EAAS,KAAK,CACV,MAAO,QAEP,WAAY,QACZ,QACI,wEACJ,aAAc,QACd,MAAO,MACP,SAAU,YACV,QAAS,MAC7B,CAAiB,EACDR,EAAK,MAAO,EACZ,MAET,CACP,CAAS,EAGC,MAAMU,GAASF,EAAS,KAAK,CAC1B,MAAO,QACP,WAAY,QACZ,QACD,2EACC,aAAc,QACd,MAAO,MACP,SAAU,YACV,QAAS,MAEtB,CAAU,EACI,QAAQ,IAAM,CACtBN,EAAO,MAAM,QAAU,MAC7B,CAAK,CACA,CAGL"}